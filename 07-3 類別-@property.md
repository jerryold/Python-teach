# 07-3 類別(class)-@property


### 如果改寫了類別中屬性取存的邏輯, 能讓其他程式用直接取存屬性值的方式呼叫改寫的方法, 比呼叫getter及setter方便, 也是比較推薦的作法. 改寫的屬性實際存放名稱在前方加上一個_(底線), 另外在設定屬性值的方法前加上@property修飾, 在取出屬性值的方法前加上@屬性名稱.setter的修飾. 之前加上底線的屬性名稱, 是為了和設定及取用方法的名稱有所區別.

#### (1)程式範例

##### ntub.py
```python
#------------------------------------------------
# 定義學生類別
#------------------------------------------------
class Student():
    #------------------------------       
    # 建構元
    # 為了重新定義gender屬性的取存, 
    # 將實際存放名稱改為 _gender.
    #------------------------------   
    def __init__(self, stuNo, stuName, gender=None):
        self.stuNo=stuNo
        self.stuName=stuName
        self.gender=gender    #這行指令會呼叫@gender.setter方法

    #----------------------------------    
    # 取用gender屬性的方法
    # 直接用 [...=實例名稱.gender] 即可
    #---------------------------------- 
    @property
    def gender(self):
        if self._gender=='M':
            return '男'
        elif self._gender=='F':
            return '女'
        else:
            return None

    #----------------------------------    
    # 寫入gender屬性的方法
    # 直接用 [實例名稱.gender=...] 即可
    #---------------------------------- 
    @gender.setter
    def gender(self, gender):
        if gender=='M' or gender=='F':
            self._gender=gender
        else:
            self._gender=None
    

    #-------------------    
    # 取出學制的方法
    #-------------------
    def division(self):
        if self.stuNo[0]=='N':
            return '進修推廣部'
        else:
            return '日間部'   
```

##### main.py
```python
#--------------------------------------------
# 匯入ntub模組
#--------------------------------------------
import ntub

#--------------------------------------------
# 生成實例
#--------------------------------------------
s1=ntub.Student('1056001', '王小明', 'F')
s2=ntub.Student('1056002', '陳小華')
s3=ntub.Student('1056003', '李小強', 'A')

#--------------------------------------------
# 呼叫實例的方法
#-------------------------------------------- 
print('學號:{}  姓名:{}  性別:{}  學制:{}'.format(s1.stuNo, s1.stuName, s1.gender, s1.division()))
print('學號:{}  姓名:{}  性別:{}  學制:{}'.format(s2.stuNo, s2.stuName, s2.gender, s2.division()))
print('學號:{}  姓名:{}  性別:{}  學制:{}'.format(s3.stuNo, s3.stuName, s3.gender, s3.division()))
```


執行結果:
```
學號:1056001  姓名:王小明  性別:女  學制:日間部
學號:1056002  姓名:陳小華  性別:None  學制:日間部
學號:1056003  姓名:李小強  性別:None  學制:日間部
```



#### (2)程式範例(不推薦的寫法)


##### main.py
```python
#----------------------------------------------------
# 匯入ntub模組
#----------------------------------------------------
import ntub

#----------------------------------------------------
# 生成實例
#----------------------------------------------------
s1=ntub.Student('1056001', '王小明', 'F')
s2=ntub.Student('1056002', '陳小華')
s3=ntub.Student('1056003', '李小強', 'A')

#----------------------------------------------------
# 呼叫實例的方法
# 直接取用被保護的屬性 _gender, 雖然可執行, 但不推薦
#---------------------------------------------------- 
print('學號:{}  姓名:{}  性別:{}  學制:{}'.format(s1.stuNo, s1.stuName, s1._gender, s1.division()))
print('學號:{}  姓名:{}  性別:{}  學制:{}'.format(s2.stuNo, s2.stuName, s2._gender, s2.division()))
print('學號:{}  姓名:{}  性別:{}  學制:{}'.format(s3.stuNo, s3.stuName, s3._gender, s3.division()))
```

