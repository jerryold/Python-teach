# 05-4 敘述-with


### 用with敘述可以簡化讀寫檔案程式, 結束前不必關檔.


#### (1)程式範例


未用with敘述:
```python
# 開啟檔案(r:只讀)
file = open('data.txt','r')  

# 每行依次讀入
for line in file.readlines():  
    line = line.strip()  #去除頭尾空白及\n 
    print(line)

print('-'*30)

# 關閉檔案
file.close()   
```


用with敘述:
```python
# 開啟檔案, 在with的作用範圍中將檔案指定給file變數
with open('data.txt','r') as file:
    for line in file.readlines():  
        line = line.strip() 
        print(line)

print('-'*30)   
```


測試程式(data.txt):
```
1,男,46,56,42,48,37,10
2,男,48,51,39,48,43,10
3,男,50,52,47,41,42,8
4,女,40,56,45,46,45,8
5,男,43,41,29,35,34,10
6,女,44,52,50,41,46,8
7,女,44,56,47,46,41,8
8,男,50,56,47,46,35,8
9,男,56,60,30,48,41,8
10,男,43,55,49,36,50,10
```


執行結果:
```
1,男,46,56,42,48,37,10
2,男,48,51,39,48,43,10
3,男,50,52,47,41,42,8
4,女,40,56,45,46,45,8
5,男,43,41,29,35,34,10
6,女,44,52,50,41,46,8
7,女,44,56,47,46,41,8
8,男,50,56,47,46,35,8
9,男,56,60,30,48,41,8
10,男,43,55,49,36,50,10
------------------------------
```

